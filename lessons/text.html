<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Lectura Interactiva</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

  :root {
    /* Paleta de colores de lectura limpia */
    --bg-color: #ffffff;
    --text-main: #111827;
    --text-secondary: #374151;
    --text-muted: #6b7280;
    
    /* Color para el efecto de subrayado (Un amarillo suave) */
    --highlight-color: #fde68a; 

    /* Colores para la caja de "Nota Importante" */
    --alert-bg: #fff7ed;
    --alert-border: #ffedd5;
    --alert-text: #9a3412;
    --alert-icon: #f97316;

    /* Navegación inferior */
    --nav-border: #e5e7eb;
    --nav-hover: #f9fafb;

    /* Dimensiones */
    --page-width: 760px;
    --padding-x: 24px;
    --space-y: 1.5rem;
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    background-color: var(--bg-color);
    color: var(--text-secondary);
    line-height: 1.7; /* Un poco más de aire para lectura cómoda */
    font-size: 18px;  /* Tamaño base ligeramente aumentado */
    -webkit-font-smoothing: antialiased;
    padding-bottom: 4rem;
  }

  /* Contenedor Principal */
  main {
    max-width: var(--page-width);
    margin: 5rem auto;
    padding: 0 var(--padding-x);
  }

  /* --- Tipografía --- */
  h1 {
    font-size: 2.5rem;
    font-weight: 700;
    color: var(--text-main);
    letter-spacing: -0.025em;
    margin-bottom: 2rem;
    line-height: 1.2;
  }

  h2 {
    font-size: 1.75rem;
    font-weight: 700;
    color: var(--text-main);
    margin-top: 3.5rem;
    margin-bottom: 1.25rem;
    letter-spacing: -0.015em;
  }

  h3 {
    font-size: 1.25rem;
    font-weight: 600;
    color: var(--text-muted);
    margin-top: 2rem;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  p {
    margin-bottom: var(--space-y);
  }
  
  strong {
    font-weight: 700;
    color: var(--text-main);
  }

  /* --- ESTILOS DEL SUBRAYADO ANIMADO --- */
  /* Esta es la clase que aplicaremos al texto que queremos animar */
  .scroll-highlight {
    /* Preparamos el gradiente pero lo ocultamos inicialmente */
    background-image: linear-gradient(to right, var(--highlight-color) 0%, var(--highlight-color) 100%);
    background-repeat: no-repeat;
    background-size: 0% 100%; /* Empieza con ancho 0 */
    
    /* Animación suave */
    transition: background-size 0.8s cubic-bezier(0.25, 1, 0.5, 1);
    
    /* Pequeños ajustes visuales */
    padding: 2px 2px;
    margin: 0 -2px;
    border-radius: 4px;
    
    /* Asegura que el subrayado funcione bien si la frase se rompe en dos líneas */
    -webkit-box-decoration-break: clone;
    box-decoration-break: clone;
  }

  /* Cuando GSAP añade la clase 'active', el ancho pasa al 100% */
  .scroll-highlight.active {
    background-size: 100% 100%;
    color: #000; /* Opcional: oscurecer un poco el texto al subrayar */
  }


  /* --- Componentes Varios --- */
  .info-box {
    background-color: var(--alert-bg);
    border-radius: 12px;
    padding: 1.75rem;
    margin: 3rem 0;
    display: flex;
    gap: 1.25rem;
    align-items: flex-start;
  }

  .info-box svg {
    flex-shrink: 0;
    color: var(--alert-icon);
    width: 28px;
    height: 28px;
    margin-top: 2px;
  }

  .info-box-content {
    font-size: 1rem;
    color: var(--text-main);
  }

  .info-box-title {
    display: block;
    font-weight: 700;
    color: var(--alert-text);
    margin-bottom: 0.5rem;
  }

  .navigation-footer {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    margin-top: 5rem;
    padding-top: 2.5rem;
    border-top: 1px solid var(--nav-border);
  }

  .nav-card {
    border: 1px solid var(--nav-border);
    border-radius: 12px;
    padding: 1.5rem;
    text-decoration: none;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    justify-content: center;
    background: #fff;
  }

  .nav-card:hover {
    background-color: var(--nav-hover);
    border-color: #d1d5db;
    transform: translateY(-2px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
  }

  .nav-label {
    font-size: 0.85rem;
    font-weight: 600;
    color: var(--text-muted);
    margin-bottom: 0.75rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }

  .nav-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: var(--text-main);
  }

  .nav-card.next {
    text-align: right;
    align-items: flex-end;
  }
  
  .nav-card.next .nav-label {
    flex-direction: row-reverse;
  }

  @media (max-width: 600px) {
    h1 { font-size: 2rem; }
    h2 { font-size: 1.5rem; }
    .navigation-footer { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<main>
  <h3>Conceptos Fundamentales</h3>
  <h1>La Frase Musical: Unidad de Sentido</h1>
  
  <p>Una frase musical es una unidad melódica y rítmica completa en sí misma, comparable a una oración en el lenguaje hablado. Se construye típicamente sobre un patrón de pregunta y respuesta, conocido como antecedente y consecuente, y suele abarcar una duración de dos, cuatro u ocho compases. La dirección melódica, los puntos de reposo (cadencias) y el diseño rítmico son clave para definir su carácter y límites.</p>

  <p>Identificar el final de una frase es fundamental para la interpretación. La cadencia —el equivalente musical a la puntuación— puede ser conclusiva (cadencia perfecta, como un punto final) o suspensiva (cadencia imperfecta o semicadencia, como una coma). <span class="scroll-highlight">Escuchar la respiración natural de la línea melódica</span> es el primer paso para el análisis fraseológico.</p>

  <p>La articulación y el fraseo en la ejecución dependen de este análisis. Un legato suave puede unir notas dentro de una misma idea, mientras que un ligero descanso o un cambio dinámico (como un decrescendo) pueden marcar el final de una frase. <span class="scroll-highlight">La estructura formal básica, la textura y las indicaciones del compositor</span> son guías esenciales.</p>

  <div class="info-box">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z" />
    </svg>
    <div class="info-box-content">
      <span class="info-box-title">NOTA IMPORTANTE</span>
      La comprensión de la frase precede y determina la expresión musical efectiva. Sin análisis previo, la ejecución carecerá de discurso coherente.
    </div>
  </div>

  <h2>La práctica del análisis</h2>
  
  <p>La práctica del análisis y la escucha activa desarrollan esta habilidad. Aislar la línea melódica principal, cantarla para sentir sus puntos de reposo naturales y marcar las cadencias en la partitura son ejercicios fundamentales. <span class="scroll-highlight">La repetición exacta sin variación es menos frecuente que la repetición con modificación</span>.</p>

  <p>En la música polifónica (como una fuga de Bach), el concepto se multiplica, ya que cada voz contiene su propio discurso fraseológico independiente pero entrelazado. El reto del intérprete es proyectar la claridad de cada línea individual sin perder la cohesión del conjunto. <span class="scroll-highlight">El estudio por voces separadas es, por tanto, un método indispensable</span>.</p>

  <p>En resumen, la frase es la unidad básica de la narración musical. Su correcta identificación y delineación a través de la dinámica, la articulación y el ritmo respiratorio es lo que transforma una sucesión de notas en un discurso comunicativo y expresivo. <span class="scroll-highlight">Dominar el fraseo es dominar el arte de decir algo con la música</span>.</p>


  <div class="navigation-footer">
    <a href="#" class="nav-card">
      <span class="nav-label">← Anterior</span>
      <span class="nav-title">0.2. El Ritmo y la Métrica</span>
    </a>
    <a href="#" class="nav-card next">
      <span class="nav-label">Siguiente →</span>
      <span class="nav-title">0.4. Introducción a la Armonía</span>
    </a>
  </div>

</main>

<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<script>
  // Registramos el plugin
  gsap.registerPlugin(ScrollTrigger);

  // Seleccionamos todos los elementos con la clase .scroll-highlight
  gsap.utils.toArray(".scroll-highlight").forEach((target) => {
    ScrollTrigger.create({
      trigger: target,
      // 'start' define cuándo se activa: "cuando el top del elemento llegue al 85% de la altura de la ventana"
      start: "top 85%", 
      // Añade la clase 'active' que dispara la transición CSS
      toggleClass: "active",
      // 'once: true' hace que solo se anime la primera vez que pasas, para no distraer si subes y bajas
      once: true 
    });
  });
</script>

</body>
</html>
