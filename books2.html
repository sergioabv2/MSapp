<!DOCTYPE html>
<html lang="es" ng-app="libraryApp">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Biblioteca de Piano Simplificada</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- Estilos Esenciales (Copiados de tu original) --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f8f9fa; padding: 20px; }

        .header { 
            background: white; 
            border-radius: 16px; 
            padding: 24px; 
            margin-bottom: 24px; 
            box-shadow: var(--card-shadow); 
            border: 1px solid #e5e5e7; 
            display: flex; 
            flex-direction: column;
            gap: 20px;
        }
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }
        .header-left { display: flex; align-items: center; gap: 16px; }
        .header-icon { width: 56px; height: 56px; background: linear-gradient(135deg, #5668E2, #7343D9); border-radius: 14px; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; }
        .header-info h1 { font-size: 24px; font-weight: 600; color: #1d1d1f; }
        .header-info p { color: var(--secondary-text); font-size: 16px; }
        .search-box { flex-grow: 1; min-width: 250px; position: relative; }
        .search-input { width: 100%; padding: 12px 16px 12px 44px; border: 1px solid #d1d5db; border-radius: 12px; background: white; font-size: 14px; transition: all 0.2s ease; }
        .search-input:focus { outline: none; border-color: var(--primary-color); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .search-icon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #6b7280; }

        .filters-container {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            padding-top: 20px;
            border-top: 1px solid #e5e7eb;
        }
        .filter-group { flex-grow: 1; }
        .filter-label { font-weight: 600; color: #374151; font-size: 14px; display: block; margin-bottom: 8px; }
        .filter-select { width: 100%; padding: 10px 14px; border: 1px solid #d1d5db; border-radius: 8px; background: #f9fafb; font-size: 14px; cursor: pointer; }
        .search-box { position: relative; min-width: 280px; }
        .search-input { width: 100%; padding: 12px 16px 12px 44px; border: 1px solid #d1d5db; border-radius: 12px; background: #f8f9fa; font-size: 14px; }
        .search-icon { position: absolute; left: 16px; top: 50%; transform: translateY(-50%); color: #6b7280; }
        .library-section { margin-bottom: 40px; }
        .section-title { font-size: 22px; font-weight: 600; margin-bottom: 16px; }
        .carousel-wrapper { position: relative; }
        .carousel { display: flex; gap: 20px; overflow-x: auto; padding: 10px 5px; scrollbar-width: none;  }
        .carousel::-webkit-scrollbar { display: none; }
        .book-card { flex: 0 0 auto; width: 180px; cursor: pointer; transition: transform 0.2s ease; }
        .book-card:hover { transform: translateY(-4px); }
        .book-cover { width: 100%; height: 240px; border-radius: 8px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); object-fit: cover; margin-bottom: 12px; }
        .book-title { font-size: 15px; font-weight: 600; color: #343a40; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .book-level { font-size: 13px; color: #6c757d; }
        .scroll-btn { position: absolute; top: 50%; transform: translateY(-70%); width: 40px; height: 40px; border-radius: 50%; background: rgba(255, 255, 255, 0.9); border: 1px solid #e9ecef; box-shadow: 0 2px 8px rgba(0,0,0,0.1); cursor: pointer; z-index: 3000; opacity: 0; transition: opacity 0.2s ease; display: flex; align-items: center; justify-content: center; }
        .carousel-wrapper:hover .scroll-btn { opacity: 1; }
        .scroll-btn.prev { left: -5px; }
        .scroll-btn.next { right: -5px; }
        .pdf-viewer-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: #212121; z-index: 2000; }
        .xml-viewer-close { background: none; border: none; position: absolute; top: 15px; right: 25px; color: black; font-size: 26px; cursor: pointer; }
        .pdf-viewer-overlay iframe { width: 100%; height: 100%; border: none; }



.carousel .book-card {
    width: 150px; /* Más pequeño que los 180px del grid */
}
.carousel .book-cover-wrapper {
    height: 200px; /* Más bajo que los 240px del grid */
}
.carousel .book-title {
    font-size: 14px;
}
.carousel .book-level {
    font-size: 12px;
}

        
.section-title {
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    transition: color 0.2s ease-in-out;
}

.section-title:hover {
    color: #5668E2; /* Un color primario para indicar interacción */
}

.section-title .fas.fa-chevron-down,
.section-title .fas.fa-chevron-up {
    font-size: 16px;
    color: #6b7280;
    transition: transform 0.2s ease;
}

.section-title .fa-layer-group {
    margin-right: 10px; /* Añade espacio entre el ícono y el texto */
    color: #7343D9;     /* Opcional: Dale un color para que destaque */
    font-size: 20px;    /* Opcional: Ajusta el tamaño si es necesario */
}


.section-header-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    /* El botón de volver ya tiene margen inferior */
}

.view-mode-toggle {
    display: flex;
    gap: 8px;
}
.view-mode-toggle .view-btn {
    background: #f0f2f5;
    border: 1px solid #d1d5db;
    padding: 10px 14px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 16px;
    color: #6b7280;
    transition: all 0.2s;
}
.view-mode-toggle .view-btn:hover {
    background-color: #e5e7eb;
}
.view-mode-toggle .view-btn.active {
    background-color: #5668E2;
    color: white;
    border-color: #5668E2;
}

/* --- 4. Estilos para la VISTA DE LISTA --- */
.list-view {
    display: flex;
    flex-direction: column; /* Apila las tarjetas verticalmente */
    gap: 1px; /* Crea un efecto de línea divisoria */
    background-color: #e5e7eb; /* Color de la línea divisoria */
    border: 1px solid #e5e7eb;
    border-radius: 12px;
    overflow: hidden; /* Para que el radius afecte a los hijos */
}

.list-view .book-card {
    flex: 1 1 100%; /* Ocupa todo el ancho */
    width: 100%;
    display: flex;
    align-items: center;
    gap: 16px;
    background: white;
    padding: 12px;
    border-radius: 0;
    transition: background-color 0.2s ease;
}
.list-view .book-card:hover {
    transform: none; /* Quitamos el efecto de elevación */
    background-color: #f8f9fa;
}

/* Ajustamos la portada para la lista */
.list-view .book-cover-wrapper {
    flex: 0 0 60px; /* Ancho fijo y pequeño */
    height: 80px;
    margin-bottom: 0;
}
.list-view .book-cover {
    border-radius: 6px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}


.list-view .book-info {
    display: flex;
    flex-direction: column; /* Apila el título y el autor */
    justify-content: center; /* Centra el bloque de texto verticalmente */
    flex-grow: 1; /* Opcional: asegura que ocupe el espacio */
}

.list-view .book-grade-label {
    display: none; 
}

/* Ajustamos los textos */
.list-view .book-title {
    font-size: 16px;
    font-weight: 500;
    white-space: normal; 
    margin-bottom: 2px;
}
.list-view .book-level {
   font-size: 14px;
    color: #6c757d; /* Un color más suave para el autor */
    line-height: 1.3;
}


.grid-view {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: flex-start; /* O 'center' si prefieres */
    padding: 10px 5px;
}

/* Ajustes a las tarjetas en la vista de grid */
.grid-view .book-card {
    flex: 0 0 180px; /* Mantiene el mismo tamaño de tarjeta */
}

/* Estilo para el nuevo botón de "Volver" */
.back-button {
    background: #f0f2f5;
    border: 1px solid #d1d5db;
    padding: 10px 18px;
    border-radius: 12px;
    cursor: pointer;
    font-size: 15px;
    font-weight: 500;
    color: #374151;
    margin-bottom: 20px; /* Espacio antes del título de la sección */
    display: inline-flex;
    align-items: center;
    gap: 8px;
    transition: background-color 0.2s;
}
.back-button:hover {
    background-color: #e5e7eb;
}








@media (min-width: 992px) {
    .desktop-layout-wrapper {
        display: grid;
        /* Define 2 columnas: 300px para el sidebar, 1fr (resto) para el contenido */
        grid-template-columns: 300px 1fr;
        gap: 24px; /* Espacio entre las columnas */
        align-items: flex-start; /* Alinea los items arriba */
    }

    .header {
        position: sticky; /* Lo hace "pegajoso" */
        top: 20px; /* Se pega a 20px del borde superior */
        max-height: calc(100vh - 40px); /* Altura máxima (alto de la ventana - padding) */
        overflow-y: auto; /* Scroll si el contenido es muy largo */
        margin-bottom: 0; /* Remueve el margen inferior en desktop */
    }

    .library-content {
        overflow-x: hidden;
    }

    .header-top {
        flex-direction: column;
        align-items: flex-start;
    }

    /* La barra de búsqueda ocupa todo el ancho del sidebar */
    .search-box {
        width: 100%;
        min-width: auto; /* Resetea el ancho mínimo */
    }

    /* Apila los dropdowns de filtros */
    .filters-container {
        flex-direction: column;
        align-items: stretch; /* Estira los filtros al 100% */
    }

    .filter-group {
        flex-grow: 1;
    }
}




/* El nuevo contenedor para la imagen y la etiqueta */
.book-cover-wrapper {
    position: relative; /* Clave para posicionar la etiqueta 'hija' */
    /* Mantenemos los estilos que tenía la imagen */
    width: 100%;
    height: 240px;
    margin-bottom: 12px;
}

/* La imagen ahora debe ajustarse al 100% de su nuevo 'wrapper' */
.book-cover-wrapper .book-cover {
    width: 100%;
    height: 100%;
    /* Quitamos el margen que ahora tiene el wrapper */
    margin-bottom: 0; 
}

/* La nueva etiqueta de grado (similar a tu imagen de ejemplo) */
.book-grade-label {
    position: absolute; /* Se posiciona relativo al 'book-cover-wrapper' */
    bottom: 8px;
    left: 8px;
    background-color: rgba(0, 0, 0, 0.75); /* Fondo oscuro semitransparente */
    color: white;
    padding: 4px 10px;
    border-radius: 6px;
    font-size: 13px;
    font-weight: 600;
    z-index: 10; /* Nos aseguramos que esté por encima de la imagen */
}


    </style>
</head>
<body ng-controller="libraryCtrl">
    


    <div class="desktop-layout-wrapper"  ng-hide="showPdfViewer">
        <div class="header" >
              <div class="header-top">
            <div class="header-left">
                <div class="header-icon"><i class="fas fa-book"></i></div>
                <div class="header-info">
                    <h1>Biblioteca</h1>
                    <p>Encuentra tus libros y piezas de piano</p>
                </div>
            </div>
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Buscar en la biblioteca..." ng-model="searchQuery">
            </div>
             </div>


            <div class="filters-container">
              
            <div class="filter-group">
                <label class="filter-label" for="difficulty-select">Dificultad</label>
                <select id="difficulty-select" class="filter-select" ng-model="filters.difficulty">
                    <option value="">Todos los Grados</option>
                    <option value="Preparatorio">Preparatorio</option>
                    <option value="Grado 1">Grado 1</option>
                    <option value="Grado 2">Grado 2</option>
                    <option value="Grado 3">Grado 3</option>
                    <option value="Grado 4">Grado 4</option>
                    <option value="Grado 5">Grado 5</option>
                    <option value="Grado 6">Grado 6</option>
                    <option value="Grado 7">Grado 7</option>
                    <option value="Grado 8">Grado 8</option>
                </select>
            </div>

              <div class="filter-group">
                <label class="filter-label" for="style-select">Estilo</label>
                <select id="style-select" class="filter-select" ng-model="filters.style">
                    <option value="">Todos los estilos</option>
                    <option value="baroque">Barroco</option>
                    <option value="classic">Clásico</option>
                    <option value="romantic">Romanticismo</option>
                     <option value="postromantic">Post-Romanticismo</option>
                    <option value="sigloxx">Siglo XX</option>
                    <option value="jazz">Jazz</option>
                    <option value="contemporary">Contemporaneo</option>
                </select>
            </div>
          
        </div>
         </div>



      <div class="library-content">

       <div class="section-header-controls" ng-show="selectedSection">
    <button class="back-button" ng-click="goBack()">
        <i class="fas fa-arrow-left"></i> Volver a las secciones
    </button>
    
    <div class="view-mode-toggle">
        <button class="view-btn" 
                ng-class="{'active': viewMode === 'grid'}" 
                ng-click="setViewMode('grid')">
            <i class="fas fa-th-large"></i>
        </button>
        <button class="view-btn" 
                ng-class="{'active': viewMode === 'list'}" 
                ng-click="setViewMode('list')">
            <i class="fas fa-list"></i>
        </button>
    </div>
</div>

    <div class="library-section" 
         ng-repeat="section in library"
         ng-show="(!selectedSection || selectedSection === section) && (section.books | filter: customFilter).length > 0">
        
       <h2 class="section-title" ng-click="selectSection(section)">
    <div> 
        <i class="fas fa-layer-group"></i>
        {{ section.title }}
    </div>
    <i class="fas" ng-class="{'fa-chevron-up': selectedSection === section, 'fa-chevron-down': selectedSection !== section}"></i>
</h2>
        
        <div class="carousel-wrapper">
            <div id="carousel-{{$index}}" 
                 ng-class="{
                   'carousel': !selectedSection, 
                   'grid-view': selectedSection && viewMode === 'grid',
                   'list-view': selectedSection && viewMode === 'list'
                 }">
                
                <div class="book-card" ng-repeat="book in section.books | filter: customFilter"   
                     ng-click="openPdf(book)">

                <div class="book-cover-wrapper">
        <img ng-src="{{ book.coverUrl }}" class="book-cover">

        <span class="book-grade-label" ng-if="book.difficulty">
            {{ book.difficulty }}
        </span>
    </div>

                 
<div class="book-info">
        <div class="book-title">{{ book.title }}</div>
        <div class="book-level">{{ book.author }}</div>
    </div>
                </div>
            </div>
            
            <button class="scroll-btn prev" ng-click="scrollCarousel('carousel-' + $index, -1)" ng-hide="selectedSection"><i class="fas fa-chevron-left"></i></button>
            <button class="scroll-btn next" ng-click="scrollCarousel('carousel-' + $index, 1)" ng-hide="selectedSection"><i class="fas fa-chevron-right"></i></button>
        </div>
    </div>
</div>
  </div>


    <div class="pdf-viewer-overlay" ng-show="showPdfViewer">  
        <div>
            <button class="xml-viewer-close" ng-click="closePdfViewer()"><i class="fas fa-times"></i></button>
        </div>
        <iframe ng-src="{{pdfUrl}}" frameborder="0" allow="fullscreen"></iframe>
    </div>

    <script>
        const app = angular.module('libraryApp', []);

        app.controller('libraryCtrl', ['$scope', '$sce', '$http', function($scope, $sce, $http) {

            // --- ESTADO DE LA UI (SIMPLIFICADO) ---
            $scope.searchQuery = '';
            $scope.showPdfViewer = false;
            $scope.pdfUrl = '';
             $scope.filters = { difficulty: '', style: '' };
             $scope.selectedSection = null;
             $scope.sortOrder = '-dateAdded';

             $scope.viewMode = 'list';


var allPiecesData = [
  {
    "title": "Arabesque No. 1",
    "author": "Debussy",
    "background": "https://lh3.googleusercontent.com/d/1qrKd7soQAqXsA9xy-Y9oQzPIp23Tei2q=s400",
    "pdf": "Arabesque1.musicxml",
    "dateAdded": "2025-10-22",
    "difficulty": "Grado 5",
    "style": "postromantic",
    "tags": []
  },
  {
    "title": "Ave Maria (Solo Piano)",
    "author": "Schubert",
    "background": "https://lh3.googleusercontent.com/d/1Px01baKi4rA20cUh8pxUhyhf64NZ-9Zz=s400",
    "pdf": "Ave_Maria_D839_-_Schubert_-_Solo_Piano_Arrg..musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 4",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "Minuet in G Major BWV Anh. 114",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1wXS1fj4FjdAZcg_CsG3T_8uIHnfSTQvv=s400",
    "pdf": "Bach_Minuet_in_G_Major_BWV_Anh._114.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 2",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Toccata and Fugue in D Minor",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1dP_Y6Nl3VoYDqcAc07gkWkd_qjVmPbJp=s400",
    "pdf": "Bach_Toccata_and_Fugue_in_D_Minor_Piano_solo.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 8",
    "style": "baroque",
    "tags": ["virtuoso"]
  },
 
  {
    "title": "Canon in D",
    "author": "Pachelbel",
    "background": "https://lh3.googleusercontent.com/d/1v8kJEehSQllYAfypubkDm4a9i78qpoyQ=s400",
    "pdf": "Canon_in_D_easy.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 2",
    "style": "baroque",
    "tags": []
  },
  {
    "title": "Carol of the Bells",
    "author": "Leontovych",
    "background": "https://lh3.googleusercontent.com/d/1jt7qDUjLC9hz-Cs4exhpJwIFl9mkoShI=s400",
    "pdf": "Carol_of_the_Bells_easy_piano.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 2",
    "style": "sigloxx",
    "tags": []
  },
  {
    "title": "Ballade No. 1 in G minor Op. 23",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1bEfR9RhFVnLh3cd34C2_LadFd-fzXIk0=s400",
    "pdf": "Chopin_-_Ballade_no._1_in_G_minor_Op._23.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 8",
    "style": "romantic",
    "tags": ["virtuoso"]
  },
  {
    "title": "Nocturne Op. 9 No. 1",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1vDnzuVBAZPxuL6T-sUeevDyewvq-dIFz=s400",
    "pdf": "Chopin_-_Nocturne_Op._9_No._1.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 6",
    "style": "romantic",
    "tags": ["nocturne"]
  },
  {
    "title": "Nocturne Op. 9 No. 2",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1aAFHQ3vdqM3UcSwSg05k_Yj2lhALSUfR=s400",
    "pdf": "Chopin_-_Nocturne_Op_9_No_2_E_Flat_Major.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 5",
    "style": "romantic",
    "tags": ["nocturne"]
  },
  {
    "title": "Clair de Lune",
    "author": "Claude Debussy",
    "background": "https://lh3.googleusercontent.com/d/1oq5CQ0CFDLT3FV5uW5gJ-Tt_YgecqCC2=s400",
    "pdf": "Clair_de_Lune__Debussy.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 6",
    "style": "postromantic",
    "tags": []
  },
  {
    "title": "Dance of the Sugar Plum Fairy",
    "author": "Tchaikovsky",
    "background": "https://lh3.googleusercontent.com/d/1Q2TjGDXhfB4oF3l8B1i1kVr2ZNybPJMd=s400",
    "pdf": "Dance_of_the_sugar_plum_fairy.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 5",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "Gymnopedie No. 1",
    "author": "Erik Satie",
    "background": "https://lh3.googleusercontent.com/d/14mqe_TMjs3uIUuW3LKYO1YczBzzy7BoB=s400",
    "pdf": "Erik_Satie_-_Gymnopedie_No.1.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 3",
    "style": "postromantic",
    "tags": []
  },
  {
    "title": "Für Elise (Easy)",
    "author": "Beethoven",
    "background": "https://lh3.googleusercontent.com/d/19tjbvrTLaFI3__MUB6z2fpfkBiWhITV4=s400",
    "pdf": "Fur_Elise_Easy_Piano.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 2",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Für Elise",
    "author": "L.V. Beethoven",
    "background": "https://lh3.googleusercontent.com/d/1e0jEdC9J1rbaJe7JgegoJER04qA0vH3p=s400",
    "pdf": "Fur_Elise_fingered.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 5",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Prelude in G Minor",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1_L1f2lhcqplT4-o7yNHDk4jOlRTZrNkx=s400",
    "pdf": "G_Minor_Bach.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 5",
    "style": "baroque",
    "tags": ["prelude"]
  },
  {
    "title": "Gnossienne No. 1",
    "author": "Erik Satie",
    "background": "https://lh3.googleusercontent.com/d/1xjJ2GsgIojGmBprQmO9JKEhjtueqxDLD=s400",
    "pdf": "Gnossienne_No._1.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 4",
    "style": "postromantic",
    "tags": []
  },
  {
    "title": "Gymnopédie No. 1",
    "author": "Erik Satie",
    "background": "https://lh3.googleusercontent.com/d/1uFwB14fOVlfLHHaimYGNnCTDX-9_IxvK=s400",
    "pdf": "Gymnopdie_No._1__Satie.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 3",
    "style": "postromantic",
    "tags": []
  },
  {
    "title": "Hungarian Dance No. 5",
    "author": "Brahms",
    "background": "https://lh3.googleusercontent.com/d/1kRfc4NHkH3lMv4j8_y0KcGLOOwM_DfP2=s400",
    "pdf": "Hungarian_Dance_No_5_in_G_Minor.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 6",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "Liebestraum No. 3",
    "author": "Liszt",
    "background": "https://lh3.googleusercontent.com/d/1mUZu4lwTdj7EbtttoIbqXHTitL4VsKub=s400",
    "pdf": "Liebestraum_No._3_in_A_Major.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 8",
    "style": "romantic",
    "tags": ["virtuoso"]
  },
  {
    "title": "Little Playmates",
    "author": "Traditional",
    "background": "https://lh3.googleusercontent.com/d/1YvdLyFnv6YYzf2bQ5t5qxVOG7d5ysXFZ=s400",
    "pdf": "Little Playmates.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Preparatorio",
    "style": "contemporary",
    "tags": ["repertoire"]
  },
  {
    "title": "Maple Leaf Rag",
    "author": "Scott Joplin",
    "background": "https://lh3.googleusercontent.com/d/19a7r6agbU7493cfO4vur1gZxnR52z33w=s400",
    "pdf": "Maple_Leaf_Rag_Scott_Joplin.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 7",
    "style": "jazz",
    "tags": []
  },
  {
    "title": "Mariage d'Amour",
    "author": "Paul de Senneville",
    "background": "https://lh3.googleusercontent.com/d/1N5gsxVDnV9h2acXqzEC7SnuuDxW-Nkpa=s400",
    "pdf": "Mariage_dAmour.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 5",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Minuet in G Major",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1uKM33NN86dwXXSy4mSJ-FTZQReFydklL=s400",
    "pdf": "Minuet_in_G_Major_Bach.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 2",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Piano Sonata No. 16 (Allegro)",
    "author": "Mozart",
    "background": "https://lh3.googleusercontent.com/d/1QIjslSxE4gbHRjqcHcukO8b0TD7kDfft=s400",
    "pdf": "Mozart_-_Piano_Sonata_No._16_-_Allegro.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 6",
    "style": "classic",
    "tags": ["sonata"]
  }, 
  {
    "title": "Nocturne Op. 9 No. 2 (Easy)",
    "author": "Chopin",
    "background": "https://lh3.googleusercontent.com/d/1Qm1Q9BirY1zcMHI5v9FOpEmio8rtAX_z=s400",
    "pdf": "Nocturne_in_E-flat_Major_Op._9_No._2_Easy.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 3",
    "style": "romantic",
    "tags": ["nocturne"]
  },
  {
    "title": "Ode to Joy",
    "author": "Beethoven",
    "background": "https://lh3.googleusercontent.com/d/1Y8DwzHWA_tXz5BgWFdIJP30U8XDPP0yo=s400",
    "pdf": "Ode to Joy.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "classic",
    "tags": ["repertoire"]
  },
  {
    "title": "Prelude I in C major",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1PNy8_5A3lUYFHQFQJqDNqrN5P6LsnazB=s400",
    "pdf": "Prelude_I_in_C_major_BWV_846_-_Well_Tempered_Clavier_First_Book.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 5",
    "style": "baroque",
    "tags": ["prelude"]
  },
  {
    "title": "Schubert Serenade (Arr. Liszt)",
    "author": "Liszt",
    "background": "https://lh3.googleusercontent.com/d/17L8DmCP2u0GzhfmzoGjCaGuE6i8gJWSt=s400",
    "pdf": "Schubert_Serenade_-_Standchen_-_By_Lizst.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 7",
    "style": "romantic",
    "tags": []
  },


  
  {
    "title": "Pathetique Sonata (2nd Mov.)",
    "author": "Beethoven",
    "background": "https://lh3.googleusercontent.com/d/",
    "pdf": "Sonate_No._8_Pathetique_2nd_Movement.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 5",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Swan Lake",
    "author": "Tchaikovsky",
    "background": "https://lh3.googleusercontent.com/d/1J8JgUWDIC9AcBlhZQjeN9Yj41K0FQsOv=s400",
    "pdf": "Swan_Lake.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 3",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "The Entertainer",
    "author": "Scott Joplin",
    "background": "https://lh3.googleusercontent.com/d/1bMkr27px1m0iFe9K0Zpwt_t7PIf-lHV0=s400",
    "pdf": "The_Entertainer_-_Scott_Joplin.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 5",
    "style": "jazz",
    "tags": []
  },
  {
    "title": "Trumpet Voluntary",
    "author": "Jeremiah Clarke",
    "background": "https://lh3.googleusercontent.com/d/10v1YsHX7zMP8pI9C9eJSkFXfYbGa9aYx=s400",
    "pdf": "Trumpet Voluntary.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Preparatorio",
    "style": "baroque",
    "tags": ["repertoire"]
  },
  {
    "title": "Turkish March (Rondo Alla Turca)",
    "author": "Mozart",
    "background": "https://lh3.googleusercontent.com/d/1HtUdK2SLf_lrTGXlvHbGMm_J2XpzRakW=s400",
    "pdf": "WA_Mozart_Marche_Turque_Turkish_March_fingered.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 7",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Waltz Op. 64 No. 2",
    "author": "Chopin",
    "background": "https://lh3.googleusercontent.com/d/1ss1mhf17iHqZnr8Gmz7cWqVCSIt7Q6Fp=s400",
    "pdf": "Waltz_Opus_64_No._2_in_C_Minor.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 6",
    "style": "romantic",
    "tags": ["waltz"]
  },
  {
    "title": "Waltz in A Minor",
    "author": "Chopin",
    "background": "https://lh3.googleusercontent.com/d/1obItNRug17nbeWiy_gGfrgcaIvq2oRz4=s400",
    "pdf": "Waltz_in_A_MinorChopin.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 3",
    "style": "romantic",
    "tags": ["waltz"]
  },
  {
    "title": "Waltz of the Flowers",
    "author": "Tchaikovsky",
    "background": "https://lh3.googleusercontent.com/d/18_zskH1r4NWBudLSktK_5MEiAuo3IkYU=s400",
    "pdf": "Waltz_of_the_Flowers.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 4",
    "style": "romantic",
    "tags": ["waltz"]
  },
  {
    "title": "Allegretto in C Major",
    "author": "Anton Diabelli",
    "background": "https://lh3.googleusercontent.com/d/1ujUkiFYKb798MvfXA88TQeLQOiiXP6Yy=s400",
    "pdf": "allegretto-in-c-major-anton-diabelli-8.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Allemande",
    "author": "Johann Hermann Schein",
    "background": "https://lh3.googleusercontent.com/d/1qOFr2sDrJKmz9KqVIo3IMTC5wJSE2lwp=s400",
    "pdf": "allemande-johann-hermann-schein.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "baroque",
    "tags": ["repertoire"]
  },
  {
    "title": "Comptine d'un autre été (Amelie)",
    "author": "Yann Tiersen",
    "background": "https://lh3.googleusercontent.com/d/1GA3KQaGPiEj3hzmMZSf5GT_d3pYjpyZC=s400",
    "pdf": "amelie.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 4",
    "style": "soundtrack",
    "tags": ["soundtrack"]
  },
  {
    "title": "Sonatina Op. 39",
    "author": "Frank Lynes",
    "background": "https://lh3.googleusercontent.com/d/1LyqEhlQTem6oJSV7XUOMDw2pbR6mfSZp=s400",
    "pdf": "analytical-sonatinas-op39-frank-lynes.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 2",
    "style": "classic",
    "tags": ["sonatina", "repertoire"]
  },
  {
    "title": "Aria in F",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1Oe1wHma3XdKo00NNhiyBTiekJvrKKyhK=s400",
    "pdf": "aria-in-f-j-s-bach.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 1",
    "style": "baroque",
    "tags": ["repertoire"]
  },
  {
    "title": "Arietta in C Major",
    "author": "Muzio Clementi",
    "background": "https://lh3.googleusercontent.com/d/1jVxZq6pv9SX1GmCgyjfTEJDJADCwanxP=s400",
    "pdf": "arietta-in-c-major-jennifer-linn-muzio-clementi.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Moonlight Sonata (1st Mov.)",
    "author": "Beethoven",
    "background": "https://lh3.googleusercontent.com/d/1uB-TvKoCRVFPIAEJO5ig-71aMo61qloR=s400",
    "pdf": "beethoven-piano-sonata-no-14-moonlight-sonata-i-adagio-sostenuto.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 5",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Moonlight Sonata (2nd Mov.)",
    "author": "Beethoven",
    "background": "https://lh3.googleusercontent.com/d/14njVW26ixEKcZiRkYrh4EOhRAUJEgXEP=s400",
    "pdf": "beethoven-piano-sonata-no-14-moonlight-sonata-ii-allegretto.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 6",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Moonlight Sonata (3rd Mov.)",
    "author": "Beethoven",
    "background": "https://lh3.googleusercontent.com/d/1YstahO41aN4fthqp_0NF5LOgFFVYL7zr=s400",
    "pdf": "Sonate_No._14_Moonlight_3rd_Movement.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 8",
    "style": "classic",
    "tags": ["sonata", "virtuoso"]
  },
  {
    "title": "Beethoven Virus",
    "author": "Beethoven (Arr.)",
    "background": "https://lh3.googleusercontent.com/d/1atxYxPVe8Ghy2H1h07JLtH6Ym9ndk0Rb=s400",
    "pdf": "beethoven-virus.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Mikrokosmos Vol. 1 - 001",
    "author": "Béla Bartók",
    "background": "https://lh3.googleusercontent.com/d/1yubgOH6h2lleqYuHuHDKlycbNrJvneHF=s400",
    "pdf": "bela-bartok-mikrokosmos-vol-1-001-six-unison-melodies.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "sigloxx",
    "tags": ["exercise"]
  },
  {
    "title": "Mikrokosmos Vol. 1 - 002a",
    "author": "Béla Bartók",
    "background": "https://lh3.googleusercontent.com/d/19909zvllentDyRa6aBxacNMbT4ETWgEP=s400",
    "pdf": "bela-bartok-mikrokosmos-vol-1-002a-six-unison-melodies.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "sigloxx",
    "tags": ["exercise"]
  },
  {
    "title": "Caballos Españoles",
    "author": "Uwe Korn",
    "background": "https://lh3.googleusercontent.com/d/1U0xZKJhV7QE0-5FWxuED1OCC54NUPvFL=s400",
    "pdf": "caballos-espanoles-carlos-gardel.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 8",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Can't Help Falling in Love",
    "author": "Elvis Presley",
    "background": "https://lh3.googleusercontent.com/d/1E4Bz6xzHj9RekUSUkqkA6N_yvcP6sJQE=s400",
    "pdf": "cant-help-falling-in-love-7.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 3",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Etude Op. 10 No. 1 (Waterfall)",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1s2ZvwiXbPqlYFPWkC1VozZ31NqZ69Ucj=s400",
    "pdf": "chopin-frederic-etudes-op-10-1-etude-in-c-major-waterfall.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 8",
    "style": "romantic",
    "tags": ["etude", "virtuoso"]
  },
  {
    "title": "Etude Op. 10 No. 2 (Chromatique)",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1yh9F0ZLZMnjoDo0pJgJRtMY9XMrY31XR=s400",
    "pdf": "chopin-frederic-etudes-op-10-2-etude-in-a-minor-chromatique.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 8",
    "style": "romantic",
    "tags": ["etude", "virtuoso"]
  },
  {
    "title": "Etude Op. 10 No. 5 (Black Keys)",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1BK3bWhBIePTyVtXWfPK04vdv5n4MOCkS=s400",
    "pdf": "chopin-frederic-etudes-op-10-5-etude-in-g-major-black-keys.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 8",
    "style": "romantic",
    "tags": ["etude", "virtuoso"]
  },
  {
    "title": "Waltz Op. 64 No. 2",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/1Ik5qccbPgADt_VM96ag7ATXEZdow3r_N=s400",
    "pdf": "chopin-trois-valses-op-64-2-tempo-giusto-in-c-minor.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 7",
    "style": "romantic",
    "tags": ["waltz"]
  },
  {
    "title": "Waltz in E Minor (Posth.)",
    "author": "Frederic Chopin",
    "background": "https://lh3.googleusercontent.com/d/15UMyjMzpVHqnETE95juMqXZTUZk82f8X=s400",
    "pdf": "chopin-waltz-in-e-minor-b-56-kk-iva15.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 8",
    "style": "romantic",
    "tags": ["waltz"]
  },
  {
    "title": "Dance Song",
    "author": "Scholze",
    "background": "https://lh3.googleusercontent.com/d/1VdG2lvwq2TYq5ZDUWv8MDHUteZG_GK8A=s400",
    "pdf": "dance-song-list-a1-grade-1.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "baroque",
    "tags": []
  },
  {
    "title": "Gigue in G",
    "author": "Georg Philipp Telemann",
    "background": "https://lh3.googleusercontent.com/d/1J2P0TlWmNpI_puNfX2_fWuIjxDp6Kbx_=s400",
    "pdf": "gigue-a-langloise-georg-philipp-telemann.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 2",
    "style": "baroque",
    "tags": ["repertoire"]
  },
  {
    "title": "My Sweet and Tender Beast",
    "author": "Eugen Doga",
    "background": "https://lh3.googleusercontent.com/d/1InOrEj4B7UDreBYwZy0apjq0c0sC15K3=s400",
    "pdf": "gingasa-si-tandra-mea-fiara-my-sweet-and-tender-beast-eugen-doga-original.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "postromantic",
    "tags": ["waltz"]
  },
  {
    "title": "Valses Poeticos No. 6",
    "author": "Enrique Granados",
    "background": "https://lh3.googleusercontent.com/d/12QBHTxZXfeihT3q-xi9yy9TQrFMwcPHG=s400",
    "pdf": "granados-enrique-valses-poeticos-no6-quasi-ad-libitum-sentimental.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 6",
    "style": "postromantic",
    "tags": ["waltz"]
  },
  {
    "title": "Hallelujah",
    "author": "Leonard Cohen",
    "background": "https://lh3.googleusercontent.com/d/17feRuvlkheh_DyB6Z_70wFGmj-NebIu2=s400",
    "pdf": "hallelujah-easy-11.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 3",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Hijo de la Luna",
    "author": "Mecano",
    "background": "https://lh3.googleusercontent.com/d/1VcI8NxXuEZtIQdFVDT0WEMmogRGSQMiS=s400",
    "pdf": "hijo-de-la-luna-piano-in-c-minor.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 4",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Piano Sonata No. 5 (Allegro)",
    "author": "W.A. Mozart",
    "background": "https://lh3.googleusercontent.com/d/10ebcWjkPajF5eaVX7bSpUQUbEBkMDeJk=s400",
    "pdf": "i-allegro-piano-sonata-no-5-in-g-major-k-189h-w-a-mozart.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 7",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Interstellar (Main Theme)",
    "author": "Hans Zimmer",
    "background": "https://lh3.googleusercontent.com/d/1j9L6I0l6iNIhtk0f7pYp6oTokRX_6JcZ=s400",
    "pdf": "interstellar-by-hans-zimmer-22.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 4",
    "style": "soundtrack",
    "tags": ["soundtrack"]
  },
  {
    "title": "Jazz Suite No. 2 (Lyric Waltz)",
    "author": "Dmitri Shostakovich",
    "background": "https://lh3.googleusercontent.com/d/1fPMDck9D7m7iz97u34utdIX3_hjYDLd7=s400",
    "pdf": "jazz-suite-no-2-ii-lyric-waltz-dmitri-shostakovich.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 6",
    "style": "sigloxx",
    "tags": ["waltz"]
  },
  {
    "title": "Jodler",
    "author": "Traditional",
    "background": "https://lh3.googleusercontent.com/d/1bu6q6cWRiGzg4Upo_oCxdg_j0eAF6Z6D=s400",
    "pdf": "jodler.musicxml",
    "dateAdded": "2025-10-23",
    "difficulty": "Grado 1",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Menuet in A minor",
    "author": "Johann Krieger",
    "background": "https://lh3.googleusercontent.com/d/1h7cqgMPK108jn8AWmq9VoD45nG8kwOpW=s400",
    "pdf": "johann-krieger-menuett.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 1",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Sonatina Op. 20 No. 1",
    "author": "Kuhlau",
    "background": "https://lh3.googleusercontent.com/d/1hEHqnflsB2UYiSuv7BkoAUTSMb4A5vYK=s400",
    "pdf": "kuhlau-op20-n1.musicxml",
    "dateAdded": "2025-10-05",
    "difficulty": "Grado 4",
    "style": "classic",
    "tags": ["sonatina"]
  },
  {
    "title": "Little Playmates",
    "author": "F.X. Chwatal",
    "background": "https://lh3.googleusercontent.com/d/1YvdLyFnv6YYzf2bQ5t5qxVOG7d5ysXFZ=s400",
    "pdf": "little-playmates.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Preparatorio",
    "style": "classic",
    "tags": ["repertoire"]
  },
  {
    "title": "Lustig und Traurig",
    "author": "L. V. Beethoven",
    "background": "https://lh3.googleusercontent.com/d/1FVQWNeFO4O48UKGlJmPzgz4kHDvvc8Uj=s400",
    "pdf": "lustig-und-traurig-bagatelle-in-c-minor.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 4",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Melodie",
    "author": "Felix Le Couppey",
    "background": "https://lh3.googleusercontent.com/d/1hMqUGjI5-YeLOyeVl-aqKgEO2lGnpm5e=s400",
    "pdf": "melodie-felix-le-couppey.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Melody in C",
    "author": "Felix Le Couppey",
    "background": "https://lh3.googleusercontent.com/d/1zjR1_AKyDbrDAiveIdMpgtxn53ywmB1f=s400",
    "pdf": "melody-in-c-felix-le-couppey.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": []
  },
  {
    "title": "Melody in F",
    "author": "Köhler",
    "background": "https://lh3.googleusercontent.com/d/1Er0b9Yy0uyKBOMmh3Z7B_Je4TzXRvT7s=s400",
    "pdf": "melody-in-f-kohler-grade-1-piano-exam-pieces-2025-2026.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "Mikrokosmos Vol. 1 (Collection)",
    "author": "Béla Bartók",
    "background": "https://lh3.googleusercontent.com/d/1DV5NIqOPV-XeHYqKSBpNCE2EJDOYmh6X=s400",
    "pdf": "mikrokosmos-sz107-bela-bartok-mikrokosmos-vol-1-bela-bartok-bartok-mikrokosmos-1.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "sigloxx",
    "tags": ["exercise"]
  },
  {
    "title": "Minuet in C Minor",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/12Qjyc2FoVxjuMLh4wdA37MLc-I_w9JfI=s400",
    "pdf": "minuet-in-c-minor.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 2",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Minuet in C",
    "author": "Reinagle",
    "background": "https://lh3.googleusercontent.com/d/1ayQHVl9vjjPIffgQMUYuvkTJxpFtBil-=s400",
    "pdf": "minuet-in-c-reinagle.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": ["minuet"]
  },
  {
    "title": "Minuet in D Minor",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1eccs3lAZc6RWM1O1hztJlBalM6bkyFo-=s400",
    "pdf": "minuet-in-d-minor.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 3",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Minuet in G Major",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1NMJ2AWtBuVH1OnUQe2ZAD1ng_PB7uyeh=s400",
    "pdf": "minuet-in-g-major-ii.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 2",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Minuet in G Minor",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1a1CExYLVr0mzzeScST1CMe5rpCsI31Zv=s400",
    "pdf": "minuet-in-g-minor.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 3",
    "style": "baroque",
    "tags": ["minuet"]
  },
  {
    "title": "Misty",
    "author": "Erroll Garner",
    "background": "https://lh3.googleusercontent.com/d/1_uTrT-X-lUXv7QcxZZVu7T_yOFcxpexy=s400",
    "pdf": "misty.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "jazz",
    "tags": []
  },
  {
    "title": "Nalada (Poem)",
    "author": "Zdenek Fibich",
    "background": "https://lh3.googleusercontent.com/d/1sb2MyvGAKM1sfea_TauW6tkEdpLtGRjH=s400",
    "pdf": "moods-impressions-and-souvenirs-op41-zdenek-fibich.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 6",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "Minuet K. 6",
    "author": "Mozart",
    "background": "https://lh3.googleusercontent.com/d/1hSgB6rfRGog1wOPKf6CY0__TyN5VZl1q=s400",
    "pdf": "mozart k6.musicxml",
    "dateAdded": "2025-10-24",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": ["minuet"]
  },
  {
    "title": "Old German Dance",
    "author": "Michael Praetorius",
    "background": "https://lh3.googleusercontent.com/d/1sNoOyqdHKX5XjcwueGw8CMmxwfpHNRIS=s400",
    "pdf": "old-german-dance-michael-praetorius.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "baroque",
    "tags": ["repertoire"]
  },
  {
    "title": "Once Upon a December (Anastasia)",
    "author": "Stephen Flaherty",
    "background": "https://lh3.googleusercontent.com/d/1KlT9g7dB6VlzXzW5sCccHXWaSJoBIal6=s400",
    "pdf": "once-upon-a-december-from-anastasia.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 4",
    "style": "soundtrack",
    "tags": ["soundtrack", "waltz"]
  },
  {
    "title": "Once Upon a December (Easy)",
    "author": "Stephen Flaherty",
    "background": "https://lh3.googleusercontent.com/d/1ukciKCSrpkDokQLBZJPfhyu4tlERhflm=s400",
    "pdf": "once-upon-a-december-stephen-flaherty-once-upon-a-december-stephen-flaherty.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 4",
    "style": "soundtrack",
    "tags": ["soundtrack", "waltz"]
  },
  {
    "title": "Original Rags",
    "author": "Scott Joplin",
    "background": "https://lh3.googleusercontent.com/d/1EPGMNuMZT6yvGNqWxK4I0YL5L5x7fQ4_=s400",
    "pdf": "original-rags-scott-joplin-1899.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 4",
    "style": "jazz",
    "tags": []
  },
  {
    "title": "Piano Concerto No. 2 (Adagio)",
    "author": "Sergei Rachmaninoff",
    "background": "https://lh3.googleusercontent.com/d/1HlhS_cwu7J15TFbGX-G4PJ3261ozEIS3=s400",
    "pdf": "piano-concerto-no2-op18-ii-adagio-sostenuto-finale-sergei-rachmaninoff.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "postromantic",
    "tags": ["virtuoso"]
  },
    {
    "title": "Sonata 16 K. 545 Mv1 (Allegro)",
    "author": "Mozart",
    "background": "https://lh3.googleusercontent.com/d/1Qj5rKSX9ASd1ynt9AM_YagD41MbtBNkO=s400",
    "pdf": "Sonata_No._16_1st_Movement_K._545.musicxml",
    "dateAdded": "2025-10-25",
    "difficulty": "Grado 6",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Sonata 16 K. 545 Mv2 (Andante)",
    "author": "W.A. Mozart",
    "background": "https://lh3.googleusercontent.com/d/11pA8DFOQKuUt73hhPlAaisdT-Kjoe3MJ=s400",
    "pdf": "piano-sonata-n16-k545-wolfgang-amadeus-mozart-k545-andante-analysis.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 6",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Piano Sonata No. 1 KV 279",
    "author": "W.A. Mozart",
    "background": "https://lh3.googleusercontent.com/d/1U1HUfgOPfkd5vSOI-lFckh5GID_-LgeW=s400",
    "pdf": "piano-sonata-no-1-mozart-kv-279.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 8",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Piano Sonata No. 10 KV 330",
    "author": "W.A. Mozart",
    "background": "https://lh3.googleusercontent.com/d/1OL3_CNToywug4FE-uvJWz-hk3ndWF1VO=s400",
    "pdf": "piano-sonata-no-10-in-c-major-kv-330-first-movement-with-modulation-wolfgang-amadeus-mozart.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 7",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Piano Sonata No. 11 (Theme)",
    "author": "W.A. Mozart",
    "background": "https://lh3.googleusercontent.com/d/1EjDNSVQbpZg0kn9HJExu7RC2cPnCAyLd=s400",
    "pdf": "piano-sonata-no11-in-a-major-k331300i-wolfgang-amadeus-mozart.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 5",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Piano Sonata No. 12 KV 332",
    "author": "W.A. Mozart",
    "background": "https://lh3.googleusercontent.com/d/1IcSgNIBtzuH3wyhVvjX67kwYnv7VYwTp=s400",
    "pdf": "piano-sonata-no12-in-f-major-k332300k-wolfgang-amadeus-mozart.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 7",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Prelude in C Minor BWV 999",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1puzIt1Uu4OwP0WcFQYVm_z0gFfdMCQEH=s400",
    "pdf": "prelude-in-c-minor-bwv-999-bach.musicxml",
    "dateAdded": "2025-10-26",
    "difficulty": "Grado 4",
    "style": "baroque",
    "tags": ["prelude"]
  },
  {
    "title": "Prelude in C# Minor Op. 3 No. 2",
    "author": "Sergei Rachmaninoff",
    "background": "https://lh3.googleusercontent.com/d/1USR9Hgg2jF1IAd7dgpY5rSCn4n5uetg7=s400",
    "pdf": "prelude-in-c-sharp-minor-opus-3-no-2-sergei-rachmaninoff.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "postromantic",
    "tags": ["prelude", "virtuoso"]
  },
  {
    "title": "Promenade",
    "author": "Alexander Reinagle",
    "background": "https://lh3.googleusercontent.com/d/1TVYxDZ76HjijzyLzOLTDE5Mi3yHbOZ4G=s400",
    "pdf": "promenade-in-g-major-alexander-reinagle.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Preparatorio",
    "style": "classic",
    "tags": ["repertoire"]
  },
  {
    "title": "Banges Herzelein",
    "author": "Robert Fuchs",
    "background": "https://lh3.googleusercontent.com/d/16Nn9Wo9ZgmNZfwRBXy8d-nTBZQvYvLNJ=s400",
    "pdf": "sadat-heart-banges-herzelein-robert-fuchs.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 2",
    "style": "romantic",
    "tags": ["repertoire"]
  },

  {
    "title": "Sneaky Business",
    "author": "Martha Mier",
    "background": "https://lh3.googleusercontent.com/d/1I-mgpvUxcvyGMGlahR_brYxwlP5o_W4d=s400",
    "pdf": "sneaky-business-martha-mier.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "contemporary",
    "tags": ["jazz"]
  },
  {
    "title": "Sonatina in C",
    "author": "Gurlitt",
    "background": "https://lh3.googleusercontent.com/d/1omG2RFZaHgR8PKbbdyXjXNJL65YYBuLK=s400",
    "pdf": "sonatina-in-c-gurlitt-9.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 1",
    "style": "romantic",
    "tags": ["repertoire"]
  },
  {
    "title": "Sonatina",
    "author": "C.H. Wilton",
    "background": "https://lh3.googleusercontent.com/d/1H_2XAJyxGNh8yr3YFJDtEowHzNY_qNV2=s400",
    "pdf": "sonatina.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "classic",
    "tags": ["repertoire"]
  },
  {
    "title": "Still Loving You",
    "author": "Scorpions",
    "background": "https://lh3.googleusercontent.com/d/1ptQJgxIqmowOxYM8nBE6Bx1vT-GSbJg1=s400",
    "pdf": "still-loving-you-scorpions.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 5",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Study in D",
    "author": "Bertini",
    "background": "https://lh3.googleusercontent.com/d/1ssbwd89ljdio0qHtVSULRyH5lq59cpFc=s400",
    "pdf": "study-in-d.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": []
  },
  {
    "title": "The Old Windmill",
    "author": "Thomas Dunhill",
    "background": "https://lh3.googleusercontent.com/d/1RDlHXGEv8qDJelTo06hmNDDMoqKLoOa4=s400",
    "pdf": "the-old-windmill-thomas-frederick-dunhill.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "postromantic",
    "tags": ["repertoire"]
  },
  {
    "title": "This Love",
    "author": "Maroon 5",
    "background": "https://lh3.googleusercontent.com/d/14PNDcwMoPtnqzlaehrVa7PYTuHfQMmrM=s400",
    "pdf": "this-love-maroon-5.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Grado 4",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Waltz",
    "author": "Carl Czerny",
    "background": "https://lh3.googleusercontent.com/d/1uwVwq8EaewjC5HXohCeDAWxhON_XL19v=s400",
    "pdf": "waltz-carl-czerny.musicxml",
    "dateAdded": "2025-10-27",
    "difficulty": "Preparatorio",
    "style": "classic",
    "tags": ["repertoire"]
  },
  {
    "title": "Waltz (Grammophone)",
    "author": "Eugen Doga",
    "background": "https://lh3.googleusercontent.com/d/1J0zB1F2x-Q8WKuqqFJ1g_g3AheQUSqf-=s400",
    "pdf": "waltz-grammophone-eugen-doga.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 4",
    "style": "soundtrack",
    "tags": ["waltz"]
  },
  {
    "title": "What Was I Made For",
    "author": "Billie Eilish",
    "background": "https://lh3.googleusercontent.com/d/138P-4UYrPGkH2YYkzU-dRxKc3gvfhODP=s400",
    "pdf": "what-was-i-made-for-billie-eilish.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 3",
    "style": "contemporary",
    "tags": ["soundtrack"]
  },
    {
    "title": "Dance",
    "author": "Daniel Gottlob Turk",
    "background": "https://lh3.googleusercontent.com/d/13D4_hxdc7H2ltCUISagV7mu57sE8Q6fG=s400",
    "pdf": "turk-little-dance-a-lovely-day-in-g-major-easy-daniel-gottlob-turk.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "classic",
    "tags": ["repertoire"]
  },
  {
    "title": "Turkish March Jazz Fantasy",
    "author": "N/A",
    "background": "",
    "pdf": "turkish-march-jazz-fantasy.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 8",
    "style": "jazz",
    "tags": ["virtuoso"]
  },
  {
    "title": "Sonata Op.2 No.1",
    "author": "Ludwig Van Beethoven",
    "background": "https://lh3.googleusercontent.com/d/1p1WHk-_UA4pZtU3zanRwex8-TS_JsrNW=s400",
    "pdf": "sonata-op2-n1-ludwig-van-beethoven.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 8",
    "style": "classic",
    "tags": ["sonata"]
  },
  {
    "title": "Tetris Theme (Korobeiniki)",
    "author": "Tradicional",
    "background": "https://lh3.googleusercontent.com/d/1huYztEiE7NUNQEvfKoToZjK9zp2ZEYdt=s400",
    "pdf": "tetris-theme-korobeinikitruepianooffical.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 2",
    "style": "contemporary",
    "tags": ["soundtrack"]
  },
  {
    "title": "Close To You",
    "author": "Carpenters",
    "background": "https://lh3.googleusercontent.com/d/1Q5-c2Nk4V84nuX1VoQmJ4s-DHjBI1COc=s400",
    "pdf": "they-long-to-be-close-to-you-carpenters.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 3",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Take Five",
    "author": "Dave Brubeck",
    "background": "https://lh3.googleusercontent.com/d/1re9O7iFNDB0qAlb5KD2jVoTxxo4o6KpF=s400",
    "pdf": "take-five-as-played-by-terrance-shider.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "jazz",
    "tags": []
  },
  {
    "title": "Piano Major Scales & Fingerings",
    "author": "Mozart Academy",
    "background": "https://lh3.googleusercontent.com/d/1puzIt1Uu4OwP0WcFQYVm_z0gFfdMCQEH=s400",
    "pdf": "piano-major-scales-fingerings.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "",
    "style": "",
    "tags": ["exercise"]
  },
  {
    "title": "Passacaglia",
    "author": "Johan Halvorsen",
    "background": "https://lh3.googleusercontent.com/d/1YIFO88ZBJL3dX4zLiPMSBPMSG491Yh8Q=s400",
    "pdf": "passacaglia-johan-halvorsen-passacaglia-hendel-johan-halvorsen.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 3",
    "style": "romantic",
    "tags": []
  },
  {
    "title": "Minuet",
    "author": "Alexander Reinagle",
    "background": "https://lh3.googleusercontent.com/d/1LiyoCyHcAguGY1jw8wkgbScEe4lmAJ85=s400",
    "pdf": "minuetto-no-1-from-24-short-and-easy-pieces-alexander-robert-reinagle.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Preparatorio",
    "style": "classic",
    "tags": ["minuet", "repertoire"]
  },
  {
    "title": "Mia and Sebastian's Theme",
    "author": "Justin Hurwitz",
    "background": "https://lh3.googleusercontent.com/d/1EbZOnRFLKMO4rGizKeoqsLFTy5TbwadR=s400",
    "pdf": "mia-and-sebastins-theme.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "contemporary",
    "tags": ["soundtrack"]
  },
  {
    "title": "All I Want For Christmas Is You",
    "author": "Mariah Carey",
    "background": "https://lh3.googleusercontent.com/d/1UImeOjJkgbfZAcg4Jgeo3Glff8HYCBT4=s400",
    "pdf": "mariah-carey-all-i-want-for-christmas-is-you.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "La Foule",
    "author": "Edith Piaf",
    "background": "https://lh3.googleusercontent.com/d/1BfPY-x8xhLFrjuWQDzcyfZgrwveUus_8=s400",
    "pdf": "la-foule-que-nadie-sepa-mi-sufrir.musicxml",
    "dateAdded": "2S025-10-28",
    "difficulty": "Grado 5",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Jesus Bleibet Meine Freude",
    "author": "J.S. Bach",
    "background": "https://lh3.googleusercontent.com/d/1IwCXQmV6opa8wDuYuZUqrQjA_x50r5jI=s400",
    "pdf": "jesus-bleibet-meine-freude-bach.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 3",
    "style": "baroque",
    "tags": []
  },
  {
    "title": "Inversion Exercises for Piano",
    "author": "Mozart Academy",
    "background": "https://lh3.googleusercontent.com/d/1puzIt1Uu4OwP0WcFQYVm_z0gFfdMCQEH=s400",
    "pdf": "inversion-exercises-for-piano.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "",
    "style": "",
    "tags": ["exercise"]
  },
  {
    "title": "Complete Arpeggios w/ Fingerings (All Inversions)",
    "author": "Mozart Academy",
    "background": "https://lh3.googleusercontent.com/d/1puzIt1Uu4OwP0WcFQYVm_z0gFfdMCQEH=s400",
    "pdf": "complete-arpeggios-w-fingerings-all-inversions.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "",
    "style": "",
    "tags": ["exercise"]
  },
  {
    "title": "Nocturne No.20 in C# Minor (Op. Posth.)",
    "author": "Chopin",
    "background": "https://lh3.googleusercontent.com/d/1UtySNetXrdaUUKTpPE89XqjUhf4CbRNo=s400",
    "pdf": "chopin-nocturne-no20-with-fingering-in-c-minor-op-posth.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "romantic",
    "tags": ["nocturne"]
  },
  {
    "title": "Can't Take My Eyes Off You",
    "author": "Frankie Valli",
    "background": "https://lh3.googleusercontent.com/d/1sBbmu0zquWeFIg6Cm79CGEPfMV2r2lJD=s400",
    "pdf": "cant-take-my-eyes-off-you-frankie-valli.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 3",
    "style": "contemporary",
    "tags": []
  },
  {
    "title": "Caravan - Easy",
    "author": "Duke Ellington",
    "background": "https://lh3.googleusercontent.com/d/1mytpJOugtHCN5OwFfWyAtFjsHHuz6Kz-=s400",
    "pdf": "caravan.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 1",
    "style": "jazz",
    "tags": []
  },
  {
    "title": "Caravan",
    "author": "Duke Ellington",
    "background": "https://lh3.googleusercontent.com/d/14XFM-_Pw_XniQSvw6V70HW6zfsvlt4wv=s400",
    "pdf": "caravan-piano-arrangement.musicxml",
    "dateAdded": "2025-10-28",
    "difficulty": "Grado 7",
    "style": "jazz",
    "tags": []
  }
];


        

        var allPieces = allPiecesData.map(function(piece) {
            return {
                title: piece.title,
                author: piece.author,
                coverUrl: piece.background,
                pdf: "https://www.mozart-app.com/xml2?file="+piece.pdf,
                difficulty: piece.difficulty,
                style: piece.style,
                tags: piece.tags || [], 
                dateAdded: piece.dateAdded ? new Date(piece.dateAdded) : null 
            };
        });

  
        
        var repertoirePieces = allPieces.filter(function(piece) {
            return piece.tags.includes('repertoire');
        });

        var exePieces = allPieces.filter(function(piece) {
            return piece.tags.includes('exercise');
        });


        var minuetsPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('minuet');
        });

        var preludesPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('prelude');
        });

        var sonatinasPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('sonatina');
        });

        var sonatasPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('sonata');
        });

        var waltzesPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('waltz');
        });

          var nocturnesPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('nocturne');
        });

        var etudePieces = allPieces.filter(function(piece) {
            return piece.tags.includes('etude');
        });

        var virtuosoPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('virtuoso');
        });

         var soundtrackPieces = allPieces.filter(function(piece) {
            return piece.tags.includes('soundtrack');
        });
      

      

        $scope.library = [
            { title: 'Vistas en el curso', books: repertoirePieces },     
             { title: 'Ejercicios', books: exePieces },  
                 { title: 'Minuetos', books: minuetsPieces },  
                      { title: 'Preludios', books: preludesPieces }, 
             { title: 'Sonatinas', books: sonatinasPieces },  
              { title: 'Sonatas', books: sonatasPieces },
               { title: 'Waltz', books: waltzesPieces },
            { title: 'Nocturnos', books: nocturnesPieces },
             { title: 'Estudios', books: etudePieces },   
              { title: 'Virtuosismo', books: virtuosoPieces },   
                { title: 'Soundtracks', books: soundtrackPieces },  
                  { title: 'Todo el catálogo', books: allPieces }
        ];

 


                $scope.selectSection = function(section) {
    $scope.selectedSection = section;
};

$scope.goBack = function() {
    $scope.selectedSection = null; // 1. Regresa al menú principal de secciones
    $scope.viewMode = 'list';      // 2. Resetea el modo de vista (como lo tenías)
    
    // --- AÑADE ESTO ---
    $scope.searchQuery = '';             // 3. Limpia el input de búsqueda
    $scope.filters.difficulty = '';    // 4. Resetea el filtro de dificultad
    $scope.filters.style = '';         // 5. Resetea el filtro de estilo
};

    $scope.setViewMode = function(mode) {
        $scope.viewMode = mode;
    };

     
 $scope.customFilter = function(book) {
    
    // 1. Maneja el 'searchQuery' (Muestra todo si está vacío O filtra si hay texto)
    var searchMatch = !$scope.searchQuery || book.title.toLowerCase().includes($scope.searchQuery.toLowerCase()) ||
                     book.author.toLowerCase().includes($scope.searchQuery.toLowerCase());
    var difficultyMatch = !$scope.filters.difficulty || book.difficulty === $scope.filters.difficulty;
    var styleMatch = !$scope.filters.style || book.style === $scope.filters.style;
    return searchMatch && difficultyMatch && styleMatch;
};    

            // Abre el visor de PDF al hacer clic
            $scope.openPdf = function(book) {
                if (!book || !book.pdf) {
                    alert('No hay un PDF disponible para este libro.');
                    return;
                }
                // $sce.trustAsResourceUrl es necesario para que AngularJS confíe en la URL del iframe
                $scope.pdfUrl = $sce.trustAsResourceUrl(book.pdf);
                $scope.showPdfViewer = true;
            };

            // Cierra el visor de PDF
            $scope.closePdfViewer = function() {
                $scope.showPdfViewer = false;
                $scope.pdfUrl = ''; // Limpiar la URL para detener la carga del iframe
            };
            
            // Desplazamiento del carrusel
            $scope.scrollCarousel = function(elementId, direction) {
                const carousel = document.getElementById(elementId);
                if (carousel) {
                    const scrollAmount = 220 * direction; // Aumenté un poco el scroll
                    carousel.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                }
            };


var allPiecesSection = $scope.library.find(function(sec) {
            return sec.title === 'Todo el catálogo';
        });

        $scope.$watchGroup(['searchQuery', 'filters.difficulty', 'filters.style'], function(newValues, oldValues) {
            
            // 3. Evita que se ejecute en la carga inicial del controlador
            if (newValues === oldValues) {
                return;
            }
            var isAnyFilterActive = !!newValues[0] || !!newValues[1] || !!newValues[2];
            var wasAnyFilterActive = !!oldValues[0] || !!oldValues[1] || !!oldValues[2];

            if (isAnyFilterActive && !wasAnyFilterActive) {
                if (allPiecesSection) {
                    $scope.selectSection(allPiecesSection);
                }
            } else if (!isAnyFilterActive && wasAnyFilterActive) {
                $scope.goBack();
            }
        });


        }]);
    </script>
</body>
</html>
