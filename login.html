<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1.0, user-scalable=no">
    <link rel="icon" href="https://lh3.googleusercontent.com/d/1CWImzia2Z8LdK-VxeMKK22oa7387Ktwj" type="image/x-icon">
    <title>Mozart Academy</title>
    
    <meta name="google-signin-client_id" content="613538890545-o4p4ft7oji6uhimgh0inqn5l5cgv1gnm.apps.googleusercontent.com">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Karla:wght@400;500&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
     <link rel="manifest" href="/manifest.json">

    <style>
        /* --- General Styles & Variables --- */
        :root {
            --primary-color: #6a5af9;
            --secondary-color: #d55ffd;
            --background-color: #f4f7f6;
            --text-color: #2c3e50;
            --card-background: #ffffff;
            --input-border: #e0e0e0;
            --input-focus-border: #6a5af9;
        }

        body {
            font-family: 'Karla', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        .container-fluid, .row {
            height: 100vh;
            min-height: 700px;
        }

        /* --- Intro Section (Left Panel) --- */
        .intro-section {

            background-size: cover;
            background-position: center;
            padding: 50px 70px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            color: #ffffff;
        }

        .intro-section .brand-wrapper h1 {
            font-size: 24px;
            font-weight: 700;
        }

        .intro-content-wrapper {
            max-width: 450px;
        }

        .intro-title {
            font-size: 2.8rem;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .intro-text {
            font-size: 1.1rem;
            margin-top: 1rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .btn-read-more {
            background: var(--card-background);
            color: var(--primary-color);
            font-weight: 600;
            padding: 12px 30px;
            border-radius: 50px;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        .btn-read-more:hover {
            background: transparent;
            color: var(--card-background);
            border-color: var(--card-background);
            transform: translateY(-2px);
        }

        /* --- Form Section (Right Panel) --- */
        .form-section {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: var(--background-color);
        }

        .login-card {
            width: 100%;
            max-width: 420px;
            background-color: var(--card-background);
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
        }
        
        .form-section-content {
            display: none; /* Hidden by default, JS will show */
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .logo-img {
            max-width: 100px;
            border-radius: 50%;
            margin: 0 auto 20px auto;
            display: block;
        }

        .form-title {
            text-align: center;
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
        }
        
        /* Form Inputs */
        .form-group {
            position: relative;
            margin-bottom: 20px;
        }
        .form-control, .custom-select {
            height: 50px;
            border: 1px solid var(--input-border);
            border-radius: 8px;
            padding: 0 20px;
            font-size: 15px;
            transition: all 0.3s ease;
            background-color: #fdfdfd;
        }
        .form-control:focus, .custom-select:focus {
            outline: none;
            border-color: var(--input-focus-border);
            box-shadow: 0 0 0 3px rgba(106, 90, 249, 0.15);
        }

        .form-group .form-icon {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            left: 15px;
            color: #aaa;
            font-size: 18px;
        }
        .form-group input {
            padding-left: 45px;
        }
        .input-group input {
             padding-left: 20px;
        }

        /* Buttons */
        .login-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background-image: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
        }
        .btn-primary:hover {
            box-shadow: 0 5px 15px rgba(106, 90, 249, 0.4);
            transform: translateY(-2px);
        }

        .back-btn {
            background-color: #e9ecef;
            color: #555;
        }
        .back-btn:hover {
            background-color: #dee2e6;
        }

        /* Login Options */
        #sign, .login-btn-email {
            border: 1px solid var(--input-border);
            background-color: var(--card-background);
            color: var(--text-color);
            font-size: 14px;
            font-weight: 500;
            box-shadow: none;
        }
        #sign:hover, .login-btn-email:hover {
            background-color: #f8f9fa;
        }
        .login-btn-icon {
            font-size: 20px;
            margin-right: 10px;
        }
        .ri-whatsapp-fill {
            color: #25d366;
        }

        /* Links */
        .signup-link {
            text-align: center;
            margin-top: 20px;
            font-size: 14px;
        }
        .signup-link a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
        }

        /* Footer */
        .footer-link {
            text-align: center;
            margin-top: 30px;
        }
        .footer-link a {
            color: #888;
            font-size: 13px;
            margin: 0 10px;
            text-decoration: none;
        }

   .showbox {
  display: flex;
    justify-content: center;
    align-items: center;
 
}


.loader {
  position: relative;
  margin: 0px auto;
  width: 100px;
}
.loader:before {
  content: "";
  display: block;
  padding-top: 100%;
}

.circular {
  -webkit-animation: rotate 2s linear infinite;
          animation: rotate 2s linear infinite;
  height: 100%;
  transform-origin: center center;
  width: 100px;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
}

.path {
  stroke-dasharray: 1, 200;
  stroke-dashoffset: 0;
  -webkit-animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
          animation: dash 1.5s ease-in-out infinite, color 6s ease-in-out infinite;
  stroke-linecap: round;
}

@-webkit-keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}

@keyframes rotate {
  100% {
    transform: rotate(360deg);
  }
}
@-webkit-keyframes dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -124px;
  }
}
@keyframes dash {
  0% {
    stroke-dasharray: 1, 200;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -35px;
  }
  100% {
    stroke-dasharray: 89, 200;
    stroke-dashoffset: -124px;
  }
}
@-webkit-keyframes color {
  100%, 0% {
    stroke: #d62d20;
  }
  40% {
    stroke: #0057e7;
  }
  66% {
    stroke: #008744;
  }
  80%, 90% {
    stroke: #ffa700;
  }
}
@keyframes color {
  100%, 0% {
    stroke: #d62d20;
  }
  40% {
    stroke: #0057e7;
  }
  66% {
    stroke: #008744;
  }
  80%, 90% {
    stroke: #ffa700;
  }
}


  .mobile-download-section {
            display: none; /* Oculto por defecto en desktop */
            text-align: center;
            margin-top: 25px;
            padding-top: 20px;
           
        }

        .download-divider {
            font-size: 14px;
            color: #888;
            margin-top: 15px;
            font-weight: 500;
           border-top: 1px solid #e0e0e0;
        }

        .btn-download-app {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            padding: 14px;
            font-size: 16px;
            font-weight: 700; /* 칄nfasis */
            text-decoration: none !important;
            color: #ffffff;
            background-color: orange; /* 칄nfasis */
            border: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 10px orange; /* Sombra para "pop" */
        }
        
        .btn-download-app i {
            font-size: 20px;
            margin-right: 10px;
        }



        @media (max-width: 991px) {
            .intro-section { display: none; }
            .form-section { padding: 30px; }
            .login-card { padding: 30px; }
            .row { min-height: auto; height: auto; }
             .mobile-download-section {display: block;}
        }



    </style>
</head>
<body>

<div class="container-fluid">
    <div class="row">
        <div class="col-lg-7 intro-section">
            <div class="brand-wrapper">
                <h1>Mozart Academy</h1>
            </div>
            <div class="intro-content-wrapper">
                <h1 class="intro-title">Aprende piano a tu propio ritmo</h1>
                <p class="intro-text">Con Mozart Academy, accede a lecciones interactivas cuando quieras y progresa sin l칤mites.</p>
                <a href="https://www.mozartacademy.mx" class="btn btn-read-more">M치s informaci칩n</a>
            </div>
        </div>
        
        <div class="col-lg-5 form-section">
            <div class="login-card">
                
                <div id="login-options" class="form-section-content">
                    <img src="https://lh3.googleusercontent.com/d/1CWImzia2Z8LdK-VxeMKK22oa7387Ktwj" class="logo-img">
                    <h4 class="form-title">Inicia sesi칩n</h4>

                     <div class="preloader showbox" style="display: none">
                        <div class="loader">
                            <svg class="circular" viewbox="25 25 50 50">
                              <circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"></circle>
                            </svg>
                         
                          </div>
                      </div> 

                    <div class="buttons-container">

                         <div class="mobile-download-section">  
                         <button class="btn-download-app" onclick="installApp()">   
                                  <i class="ri-google-play-fill"></i>
                                  Descargar App
                          </button>
                               <p class="download-divider">o inicia sesi칩n</p>
                          </div>


                        <div id="g_id_onload" data-client_id="613538890545-o4p4ft7oji6uhimgh0inqn5l5cgv1gnm.apps.googleusercontent.com" data-context="signup" data-ux_mode="popup" data-callback="handleCredentialResponse" data-auto_prompt="true"></div>
                        <div id="sign" class="g_id_signin" data-type="standard" data-shape="rectangular" data-theme="outline" data-text="signin_with" data-size="large" data-logo_alignment="left" data-width="338" onclick="showLoader()"></div>
                        <button class="login-btn login-btn-email" onclick="showMailLogin()" style="margin-top: 15px;"><i class="ri-mail-line login-btn-icon"></i> Acceder con email</button>
                        <button class="login-btn login-btn-email" onclick="showWhatsappLogin()"><i class="ri-whatsapp-fill login-btn-icon"></i> Acceder con WhatsApp</button>

                         <div class="signup-link">
                        <p>쯅o tienes cuenta? <a href="#" onclick="showSignupForm()">Reg칤strate</a></p>
                    </div>

                    </div>

                   
                </div>

                <section id="whatsapp-login" class="form-section-content">
                    <h4 class="form-title">Inicia con WhatsApp</h4>
                    <div id="WA-error" class="alert alert-danger" style="display: none;">N칰mero no registrado.</div>
                    <div id="WA-error2" class="alert alert-danger" style="display: none;">C칩digo incorrecto.</div>
                    <div id="WA-success" class="alert alert-info" style="display: none;">C칩digo enviado a tu WhatsApp.</div>
                    
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <select id="country-code" class="custom-select" style="border-top-right-radius: 0; border-bottom-right-radius: 0;">
                                <option value="+52">游쓇릖 +52</option><option value="+1">游쥟릖 +1</option><option value="+1">游뻟릖 +1</option><option value="+57">游뻟릖 +57</option><option value="+54">游뷣릖 +54</option>
                            </select>
                        </div>
                        <input type="text" inputmode="numeric" maxlength="10" pattern="[0-9]*" class="form-control" id="phone-login" autocomplete="off" placeholder="N칰mero de tel칠fono">
                    </div>
                    
                    <div class="form-group">
                        <i class="ri-key-2-line form-icon"></i>
                        <input type="text" id="WAcode" class="form-control" placeholder="Ingresa el c칩digo" style="display: none;">
                    </div>
                    <div id="mailVar" mail="" style="display:none"></div>

                    <button class="login-btn btn-primary" onclick="WAlogin(this)">Enviar mensaje</button>
                    <button class="back-btn login-btn" onclick="showLoginOptions()">Atr치s</button>
                </section>

                <section id="maillogin" class="form-section-content">
                    <h4 class="form-title">Acceder con email</h4>
                    <div id="Mail-error" class="alert alert-danger" style="display: none;">Cuenta no registrada o contrase침a incorrecta.</div>
                    <div id="Mail-success" class="alert alert-success" style="display: none;">춰Registro exitoso! Revisa tu correo.</div>
                    
                    <div class="form-group">
                        <i class="ri-mail-line form-icon"></i>
                        <input type="email" id="email-login" class="form-control" placeholder="Ingresa tu email">
                     </div>
                    <div class="form-group">
                        <i class="ri-lock-password-line form-icon"></i>
                        <input type="password" id="password-login" class="form-control" placeholder="Ingresa tu password">
                    </div>
                    
                    <button class="login-btn btn-primary" onclick="Maillogin(this)">Iniciar sesi칩n</button>
                    <button class="back-btn login-btn" onclick="showLoginOptions()">Atr치s</button>
                </section>

                <section id="signupform" class="form-section-content">
                    <h4 class="form-title">Crear una cuenta</h4>
                    <div id="User-error" class="alert alert-danger" style="display: none">Tu correo ya est치 registrado.</div>

                    <div class="form-group">
                         <i class="ri-user-line form-icon"></i>
                        <input type="text" id="name-register" class="form-control" placeholder="Ingresa tu nombre completo">
                    </div>
                    <div class="form-group">
                         <i class="ri-mail-line form-icon"></i>
                        <input type="email" id="mail-register" class="form-control" placeholder="Ingresa tu email">
                    </div>
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                             <select id="country-code-register" class="custom-select" style="border-top-right-radius: 0; border-bottom-right-radius: 0;">
                                <option value="+52">游쓇릖 +52</option><option value="+1">游쥟릖 +1</option><option value="+1">游뻟릖 +1</option><option value="+57">游뻟릖 +57</option><option value="+54">游뷣릖 +54</option>
                            </select>
                        </div>
                        <input type="text" id="phone-register" inputmode="numeric" maxlength="10" pattern="[0-9]*" class="form-control" autocomplete="off" placeholder="N칰mero de tel칠fono">
                    </div>
                    
                    <button class="login-btn btn-primary" onclick="registration(this)">Registrarse</button>
                    <button class="back-btn login-btn" onclick="showLoginOptions()">Atr치s</button>
                </section>

                 <div class="footer-link">
                    <div class="d-flex justify-content-center">
                        <a href="https://www.instagram.com/mozartacademy.oficial/">@mozart.academy</a>
                        <a href="https://wa.me/5215577676657">Contacto</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div class="modal fade" id="iosInstallModal" tabindex="-1" role="dialog" aria-labelledby="iosModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="iosModalLabel">Instalar en iOS</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center">
        <p>Para instalar la app en tu iPhone o iPad:</p>
        <p class="mb-2">1. Presiona el 칤cono de <strong>Compartir <i class="ri-share-2-line" style="vertical-align: middle; font-size: 1.2rem;"></i></strong> en la barra de Safari.</p>
        <p class="mb-3">2. Desliza hacia arriba y selecciona <br><strong>"Agregar a inicio <i class="ri-add-box-line" style="vertical-align: middle; font-size: 1.2rem;"></i>"</strong> .</p>
     
      </div>
    </div>
  </div>
</div>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
<script>

    function showSection(sectionId) {
        // Ocultar todas las secciones
        document.querySelectorAll('.form-section-content').forEach(section => {
            section.style.display = 'none';
        });
        
        const sectionToShow = document.getElementById(sectionId);
        if (sectionToShow) {
            sectionToShow.style.display = 'block';
        }
        document.querySelectorAll('.alert').forEach(alert => alert.style.display = 'none');
    }

    function showWhatsappLogin() { showSection('whatsapp-login'); }
    function showMailLogin() { showSection('maillogin'); }
    function showSignupForm() { showSection('signupform'); }
    function showLoginOptions() { showSection('login-options'); }

    // El resto de tus funciones JS originales van aqu칤...
    function handleCredentialResponse(response) {
      const responsePayload = decodeJwtResponse(response.credential);
      var name = responsePayload.name;
      var photo = responsePayload.picture;
      var email = responsePayload.email;
      showLoader();
      var api = "https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec";
      var validationData = {
        redirect: "follow",
        method: "POST",
        headers: { "Content-Type": "text/plain;charset=utf-8" },
        body: JSON.stringify({ action: "validateGoogleUser", name: name, email: email, photo: photo })
      };
      fetch(api, validationData)
        .then(response => response.text())
        .then(res => {
          var validation = JSON.parse(res);
          if (validation.status == "success") {
            localStorage.setItem('MStoken', validation.token);
            window.location.href = 'https://www.mozart-app.com/main';
          } else {
            alert('Error, intenta otro m칠todo de inicio de sesi칩n');
          }
        })
    }

    function decodeJwtResponse(data) {
      let tokens = data.split(".");
      return JSON.parse(atob(tokens[1]))
    }

    function showLoader() {
      $('.preloader').css({ 'display': 'block' });
      $('.buttons-container').css({ 'display': 'none' });
      setTimeout(function() {
        $('.preloader').css({ 'display': 'none' });
        $('.buttons-container').css({ 'display': 'block' });
      }, 7000);
    }

    function WAlogin(button) {
      var phone = $('#phone-login').val();
      var code = $('#WAcode').val();
      var mail = $("#mailVar").attr("mail");
      var $button = $(button);
      
      if (phone != "") {
        $button.html("<i class='ri-loader-4-line ri-spin'></i> Cargando...");
        var api = "https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec";
        if (mail == "") {
          var validationData = {
            redirect: "follow",
            method: "POST",
            headers: { "Content-Type": "text/plain;charset=utf-8" },
            body: JSON.stringify({ action: "WArequest", phone: phone })
          };
          fetch(api, validationData)
            .then(response => response.text())
            .then(res => {
              var validation = JSON.parse(res);
              if (validation.status == "success") {
                $("#mailVar").attr("mail", validation.mail);
                $('#WAcode').show();
                $('#WA-success').show().delay(5000).fadeOut();
                $button.html("Iniciar sesi칩n");
              } else {
                $('#WA-error').show().delay(5000).fadeOut();
                $button.html("Enviar mensaje");
              }
            });
        } else {
          var validationData = {
            redirect: "follow",
            method: "POST",
            headers: { "Content-Type": "text/plain;charset=utf-8" },
            body: JSON.stringify({ action: "validateUser", email: mail, password: code })
          };
          fetch(api, validationData)
            .then(response => response.text())
            .then(res => {
              var validation = JSON.parse(res);
              if (validation.status == "success") {
                localStorage.setItem('MStoken', validation.token);
                window.location.href = 'https://www.mozart-app.com/main';
                $('#WAcode').hide();
                $('#phone-login').val("");
              } else {
                $('#WA-error2').show().delay(5000).fadeOut();
              }
              $('#WAcode').val("");
              $button.html("Iniciar sesi칩n");
            });
        }
      } else {
        alert("Ingresa tu n칰mero");
      }
    }
    
    function Maillogin(button) {
      var email = $('#email-login').val();
      var password = $('#password-login').val();
      var $button = $(button);
      
      if (email != "" && password != "") {
        $button.html("<i class='ri-loader-4-line ri-spin'></i> Cargando...");
        var api = "https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec";
        var validationData = {
          redirect: "follow",
          method: "POST",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify({ action: "validateUser", email: email, password: password })
        };
        fetch(api, validationData)
          .then(response => response.text())
          .then(res => {
            var validation = JSON.parse(res);
            if (validation.status == "success") {
              localStorage.setItem('MStoken', validation.token);
              window.location.href = 'https://www.mozart-app.com/main';
            } else {
              $('#Mail-error').show().delay(5000).fadeOut();
            }
            $('#email-login').val("");
            $('#password-login').val("");
            $button.html("Iniciar sesi칩n");
          });
      } else {
        alert("Ingresa tus datos de acceso");
      }
    }

    function registration(button) {
      var name = $('#name-register').val();
      var email = $('#mail-register').val();
      var phone = $('#country-code-register').val() + $('#phone-register').val();
      var $button = $(button);

      if (name != "" && email != "" && phone != "") {
        $button.html("<i class='ri-loader-4-line ri-spin'></i> Cargando...");
        var api = "https://script.google.com/macros/s/AKfycbxXD35z5FSf_m_dwBt5qcBwWq2L7IDc7KBrYGfix6hUa4kvJ1TFpjU82NltFXezUroGgQ/exec";
        var validationData = {
          redirect: "follow",
          method: "POST",
          headers: { "Content-Type": "text/plain;charset=utf-8" },
          body: JSON.stringify({ action: "registration", name: name, email: email, phone: phone })
        };
        fetch(api, validationData)
          .then(response => response.text())
          .then(res => {
            var validation = JSON.parse(res);
            if (validation.status == "success") {
              showMailLogin();
              $('#Mail-success').show().delay(4000).fadeOut();
            } else if (validation.status == "registered") {
              $('#User-error').show().delay(4000).fadeOut();
            } else {
              alert("Ocurri칩 un error, contacta a soporte");
            }
            $('#name-register, #mail-register, #phone-register').val("");
            $button.html("Registrarse");
          });
      } else {
        alert("Rellena todos los campos");
      }
    }

    $(window).on('load', function() {
      // Inicializar mostrando solo la primera vista
      showLoginOptions();

      var storedToken = localStorage.getItem('MStoken');
      if (storedToken) {
        // Redireccionar si ya existe un token
        window.location.href = 'https://www.mozart-app.com/main'
      }
    });


    $(function() {
        // 1. Define tu lista de im치genes de fondo.
         var images = [
            'https://lh3.googleusercontent.com/d/1ddzBB0_dKU4RiL6C1qwtOhx42Osv7kAv',
            'https://lh3.googleusercontent.com/d/1XUHZMWjkiD1dBveaoEYSTY_Zd7lOi63t'
        ];

        // 2. Elige una imagen aleatoria.
        var randomIndex = Math.floor(Math.random() * images.length);
        var randomImage = images[randomIndex];
        $('.intro-section').css('background-image', 
            'linear-gradient(to top, rgba(10, 10, 20, 0.6), rgba(50, 30, 70, 0.4)), url(' + randomImage + ')'
        );
        if (window.matchMedia('(max-width: 891px)').matches) {
            $('#sign').attr('data-width', '300');
        }
    });



    let deferredPrompt;
const isAndroid = /Android/i.test(navigator.userAgent);
const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);

// Registrar el Service Worker
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js').then(function (registration) {
    console.log('ServiceWorker registration successful with scope: ', registration.scope);
  }, function (err) {
    console.log('ServiceWorker registration failed: ', err);
  });
}

if ('setAppBadge' in navigator) {
  navigator.setAppBadge(5).catch((err) => {
    console.error('Error al establecer la insignia:', err);
  });
} 

if (window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone === true) {
  $scope.isMobile = false; 
}

// Manejar el evento 'beforeinstallprompt'
window.addEventListener('beforeinstallprompt', (e) => {
  if (isAndroid) {
    e.preventDefault();
    deferredPrompt = e;
  }
});

// Funci칩n para agregar a la pantalla de inicio
function installApp() {
  if (isAndroid && deferredPrompt) {
    deferredPrompt.prompt();
    deferredPrompt.userChoice.then((choiceResult) => {
      if (choiceResult.outcome === 'accepted') {
        console.log('User accepted the A2HS prompt');
      } else {
        console.log('User dismissed the A2HS prompt');
      }
      deferredPrompt = null;
    });
  } else if (isIOS) {
    $('#iosInstallModal').modal('show');
  }
};

</script>

</body>
</html>
